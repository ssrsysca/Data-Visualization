
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <script src="jquery-2.0.0.js"></script>
    <style>
	text{
		font: 10px sans-serif;
	}
	#map_all{
		border:outset;
	}
    #map {
	  float:left;
	  width:1100px;
      background-color: #fff;
      border: 1px solid #ccc;
    }
	#parallelAll{
	  border:outset;
	}
	#lineAll{
	  border:outset;
	}
	#mapControl{
	  float:right;
	  /*background:green;*/
	}
	#rangeControl{
	  float:right;
	}
    .background {
      fill: none;
      pointer-events: all;
    }
    #countries, #states {
      fill: #cde;
      stroke: #fff;
      stroke-linejoin: round;
      stroke-linecap: round;
    }
    #countries .active, #states .active {
      fill: #89a;
    }
    #cities {
      stroke-width: 0;
    }
    .city {
      fill: #345;
      stroke: #fff;
    }
    pre.prettyprint {
      border: 1px solid #ccc;
      margin-bottom: 0;
      padding: 9.5px;
    }
	/********************************************/
	svg {
	  font: 10px sans-serif;
	}
	.paraBackground path {
	  fill: none;
	  stroke: #ddd;
	  shape-rendering: crispEdges;
	}
	
	.foreground path {
	  fill: none;
	  stroke: steelblue;
	}
	
	.brush .extent {
	  fill-opacity: .3;
	  stroke: #fff;
	  shape-rendering: crispEdges;
	}
	
	.axis line,
	.axis path {
	  fill: none;
	  stroke: #000;
	  shape-rendering: crispEdges;
	}
	
	.axis text {
	  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;
	  cursor: move;
	}
    </style>
  </head>
  <body>
    <div id="map_all">
   		<div id="map"></div>
		<div id="mapControl"></div>
		<div id="rangeControl">
			<text><br>Select Year(2010 - 2014)<br>
		</div>
	</div>
	<div id="parallelAll"></div>
	<div id="lineAll"></div>
    <script src="d3.v3.js"></script>
    <script src="topojson.v1.js"></script>
    <script>
    var m_width = $("#map").width(),//1100
        width = 938,//938
        height = 530,//400
        country,
        state;
	var controlWidth = 225;
    var projection = d3.geo.mercator()
        .scale(127)
        .translate([width / 2, height / 1.4]);
    var path = d3.geo.path()
        .projection(projection);
	var ArableLand,ArmedForcePersonnel,GDP,GDPCapital,GDPCapitalGrowth,GDPGrowth,InternetUser,LaborForceFemale,LaborForceTotal,PopulationDensity,PopulationFemale,
		PopulationGrowth,PopulationTotal,RuralPopulation,SurfaceArea,UnemploymentFemale,UnemploymentTotal; 
	var dataArray = new Array();
	var attrNameArray = ["ArableLand","ArmedForcePersonnel","GDP","GDPCapital","GDPCapitalGrowth","GDPGrowth","InternetUser","LaborForceFemale",
		"LaborForceTotal","PopulationDensity","PopulationFemale","PopulationGrowth","PopulationTotal","RuralPopulation","SurfaceArea",	
		"UnemploymentFemale","UnemploymentTotal"];
	var attrNameArrayL = ["AraLand","ArmForPer","GDP","GDPCap","GDPCapGro","GDPGro","IntUsers","LabForFem","LabForTot","PopDen","PopFem","PopGro","PopTot",
		"RuaPop","SurArea","UnEmpFem","UnEmpTot"]
	var colors = d3.scale.category20();
	var colorsSelect = ["#FF0000","#000080","#00FF00","#4B0082","#87CEFA","#800000","#B22222","#DAA520","#FFFF00","#8A2BE2",
		"#8B4513","#ADFF2F","#C71585","#696969","#32CD32","#191970","#9ACD32"];
	var countryCodeArray = new Array();
	var empty = "#FFFFFF";
	var colorScaleArray = new Array();
	var linearArray = new Array();
	var ScaleYArray = new Array();
	var AxisYArray = new Array();
	var yearNum = 0;
	var yearArray = ["YR2010","YR2011","YR2012","YR2013","YR2014"];
	var attrNum = -1;
	var selectArray = new Array();
	var allData2010 = new Array();
	var allData2011 = new Array();
	var allData2012 = new Array();
	var allData2013 = new Array();
	var allData2014 = new Array();
	var allNewData2010, allNewData2011, allNewData2012, allNewData2013, allNewData2014;
	var domainArray = [0,0];
	var paraMargin = {top: 30, right: 10, bottom: 10, left: 10},
		paraWidth = 1330 - paraMargin.left - paraMargin.right,
		paraHeight = 550 - paraMargin.top - paraMargin.bottom;
		
	var lineMargin = {top: 30, right: 10, bottom: 10, left: 10},
		lineWidth = 1330 - lineMargin.left - lineMargin.right,
		lineHeight = 550 - lineMargin.top - lineMargin.bottom;
		
	var dimensions = ["ArableLand","ArmedForcePersonnel","GDP","GDPCapital","GDPCapitalGrowth","GDPGrowth","InternetUser","LaborForceFemale",
		"LaborForceTotal","PopulationDensity","PopulationFemale","PopulationGrowth","PopulationTotal","RuralPopulation","SurfaceArea",	
		"UnemploymentFemale","UnemploymentTotal"];
		
	var x = d3.scale.ordinal().rangePoints([0, paraWidth], 1),
		y = {},
		dragging = {};
	
	var line = d3.svg.line(),
		axis = d3.svg.axis().orient("left"),
		background,
		foreground;
	
	var paraSvg = d3.select("#parallelAll").append("svg")
		.attr("width", paraWidth + paraMargin.left + paraMargin.right)
		.attr("height", paraHeight + paraMargin.top + paraMargin.bottom)
		.append("g")
		.attr("transform", "translate(" + paraMargin.left + "," + paraMargin.top + ")");
	
	var lineSvg = d3.select("#lineAll").append("svg")
		.attr("width",lineWidth + lineMargin.left + lineMargin.right)
		.attr("height",lineHeight + lineMargin.top + lineMargin.bottom)
		.append("g")
		.attr("transform","translate(" + lineMargin.left + "," + lineMargin.top + ")");	
	
	var lineX = d3.scale.linear()
		.range([0,lineWidth - 130]);
	
	var lineY = d3.scale.linear()
		.range([lineHeight,0]);
	
	var xAxis = d3.svg.axis()
		.scale(lineX)
		.orient("bottom");
	
	var lineDataArray = new Array();
	var selectNameArray = new Array();
	
	for(var i=0;i<215;i++){
		allData2010[i] = new Object();
		allData2011[i] = new Object();
		allData2012[i] = new Object();
		allData2013[i] = new Object();
		allData2014[i] = new Object();
	}
	for(var i=0;i<20;i++){
		colorScaleArray[i] = d3.interpolate(empty,colorsSelect[i]);
	}
	d3.select("#map_all")
		.style("width","1330px")
		.style("height","627px");
	d3.select("#mapControl")
		.style("width",controlWidth + "px")
		.style("height",440 + "px");
	
	d3.select("#rangeControl")
		.style("width",controlWidth + "px")
		.style("height",210 + "px");
	
	d3.select("#parallelAll")
		.style("width","1330px")
		.style("height","600px");
		
	d3.select("#lineAll")
		.style("width","1330px")
		.style("height","600px");
		
	var svgControl = d3.select("#mapControl")
		.append("svg")
		.attr("width",controlWidth)
		.attr("height",440);	
		
    var svg = d3.select("#map").append("svg")
        .attr("preserveAspectRatio", "xMidYMid")
        .attr("viewBox", "0 0 " + width + " " + height)
        .attr("width", m_width)
        .attr("height", m_width * height / width);
		
    svg.append("rect")
        .attr("class", "background")
        .attr("width", width)
        .attr("height", height)
        .on("click", country_clicked);

    var g = svg.append("g");

    d3.json("countries.topo.json", function(error, us) {
		svg.append("g")
		.attr("id","countries")
		.selectAll("path")
        .data(topojson.feature(us, us.objects.countries).features)
        .enter()
		.append("g")
		.attr("id",function(d){return d.id;})
		.attr("class","colorG")
        .append("path")
        .attr("id", function(d) { return d.id; })
        .attr("d", path)
        .on("click", country_clicked);
    });

    function zoom(xyz) {
      g.transition()
        .duration(750)
        .attr("transform", "translate(" + projection.translate() + ")scale(" + xyz[2] + ")translate(-" + xyz[0] + ",-" + xyz[1] + ")")
        .selectAll(["#countries", "#states", "#cities"])
        .style("stroke-width", 1.0 / xyz[2] + "px")
        .selectAll(".city")
        .attr("d", path.pointRadius(20.0 / xyz[2]));
    }

    function get_xyz(d) {
      var bounds = path.bounds(d);
      var w_scale = (bounds[1][0] - bounds[0][0]) / width;
      var h_scale = (bounds[1][1] - bounds[0][1]) / height;
      var z = .96 / Math.max(w_scale, h_scale);
      var x = (bounds[1][0] + bounds[0][0]) / 2;
      var y = (bounds[1][1] + bounds[0][1]) / 2 + (height / z / 6);
      return [x, y, z];
    }

    function country_clicked(d) {
      g.selectAll(["#states", "#cities"]).remove();
      state = null;

      if (country) {
        g.selectAll("#" + country.id).style('display', null);
      }
	  if(d != undefined){
	  	var selectCountry = d.id;
	  	//*******************************link with the parallel coordinate**********************************
		var index = selectArray.indexOf(selectCountry);
		if(index == -1){
			selectArray.push(selectCountry);
			paraSvg.select("#"+selectCountry+"fore")
				.style("display",null);
			svg.select("#"+selectCountry)
				.style("fill","steelblue");
		}else{
			selectArray.splice(index,1);
			paraSvg.select("#"+selectCountry+"fore")
				.style("display","none");
			svg.select("#"+selectCountry)
				.style("fill","#cde");
		}
		//*******************************link width the line chart*******************************************
		lineSvg.selectAll(".line").remove();
		if(attrNum!=-1){
				//var countryInSelect = selectArray[i];
				var nameIndex = selectNameArray.indexOf(selectCountry);
				if(nameIndex == -1){
					selectNameArray.push(selectCountry);
					var drawArray = new Array();
					lineDataArray.push(drawArray);
					var selectData = dataArray[attrNum];
					var indexInAll = countryCodeArray.indexOf(selectCountry);
					var selectObject = selectData[indexInAll];
					var numArray = [selectObject.YR2010,selectObject.YR2011,selectObject.YR2012,selectObject.YR2013,selectObject.YR2014];
					var minValue = d3.min(numArray,function(d){if(d!=-1){return d;}}), maxValue = d3.max(numArray,function(d){if(d!=-1){return d;}});
					domainArray[0] = (domainArray[0]==0)?minValue:(domainArray[0]>minValue?minValue:domainArray[0]);
					domainArray[1] = (domainArray[1]==0)?maxValue:(domainArray[1]>maxValue?domainArray[1]:maxValue);
				}else{
					lineDataArray.splice(nameIndex,1);	
					selectNameArray.splice(nameIndex,1);
				}
				//domainArray = [d3.min(numArray,function(d){if(d!=-1){return d;}}),d3.max(numArray,function(d){if(d!=-1){return d;}})];
				var lineY = d3.scale.linear()
					.domain(domainArray)
					.range([lineHeight - 20,0]);
				var yAxis = d3.svg.axis()
				.scale(lineY)
				.orient("left");
				if(nameIndex == -1){
					for(var i=0;i<5;i++){
						if(numArray[i]!=-1){
							drawArray[i] = new Object();
							drawArray[i].data = 2010 + i;
							drawArray[i].num = numArray[i];
						}
					}
				}
				for(var i=0;i<lineDataArray.length;i++){
					lineSvg.append("path")
					.datum(lineDataArray[i])
					.attr("class", "line")
					.attr("id",function(d,i){
						return selectNameArray[i];
					})
					.attr("d", d3.svg.line()
						.x(function(d) { return 100 + lineX(d.data); })
						.y(function(d) { return lineY(d.num); }))
					.style("fill","none")
					.style("stroke","steelblue")
					.style("stroke-width","1.5px");
				}
				//***************************************
				lineX.domain([2009.5,2014.5]);
				var xAxisTicks = [2010,2011,2012,2013,2014];
				xAxis.tickValues(xAxisTicks);
				lineSvg.selectAll(".tick")
					.remove();
				lineSvg.selectAll(".label")
					.remove();
				lineSvg.append("g")
					.attr("class","x axis")
					.attr("transform","translate(100,"+ (lineHeight - 10) +")")
					.call(xAxis)
					.append("text")
					.attr("class","label")
					.attr("x",lineWidth - 130)
					.attr("y",-6)
					.style("text-anchor","middle")
					.text("Year");
				lineSvg.append("g")
					.attr("transform","translate(100,10)")
					.attr("class","y axis")
					.call(yAxis)
					.append("text")
					.attr("transform","rotate(-90)")
					.attr("class","label")
					.attr("y","6")
					.attr("dy",".71em")
					.style("text-anchor","end")
					.text(dimensions[attrNum]);
			}
	  }
      if (d && country !== d) {
        var xyz = get_xyz(d);
        country = d;

        if (d.id  == 'USA' && d.id == 'JPN') {
          d3.json("states_" + d.id.toLowerCase() + ".topo.json", function(error, us) {
            g.append("g")
              .attr("id", "states")
              .selectAll("path")
              .data(topojson.feature(us, us.objects.states).features)
              .enter()
			  .append("g")
			  .attr("id",d.id)
              .append("path")
              .attr("id", function(d) { return d.id; })
              .attr("class", "active")
              .attr("d", path)
              .on("click", state_clicked);

           // zoom(xyz);
            g.selectAll("#" + d.id).style('display', 'none');
          });      
        } else {
          //zoom(xyz);
        }
      } else {
        var xyz = [width / 2, height / 1.5, 1];
        country = null;
        //zoom(xyz);
      }
    }

    function state_clicked(d) {
      g.selectAll("#cities").remove();

      if (d && state !== d) {
        var xyz = get_xyz(d);
        state = d;

        country_code = state.id.substring(0, 3).toLowerCase();
        state_name = state.properties.name;
		
		d3.select("#"+country_code)
		.style("stroke","red");

        d3.json("cities_" + country_code + ".topo.json", function(error, us) {
          g.append("g")
            .attr("id", "cities")
            .selectAll("path")
            .data(topojson.feature(us, us.objects.cities).features.filter(function(d) { return state_name == d.properties.state; }))
            .enter()
            .append("path")
            .attr("id", function(d) { return d.properties.name; })
            .attr("class", "city")
            .attr("d", path.pointRadius(20 / xyz[2]));

          //zoom(xyz);
        });      
      } else {
        state = null;
        country_clicked(country);
      }
    }

    $(window).resize(function() {
      var w = $("#map").width();
      svg.attr("width", w);
      svg.attr("height", w * height / width);
    });
	//****************************svgControl**********************************
	svgControl.selectAll(".controlRect")
	.data(attrNameArray)
	.enter()
	.append("rect")
	.attr("class","controlRect")
	.attr("width",40)
	.attr("height",20)
	.attr("x",5)
	.attr("y",function(d,i){
		return 10 + 24 * i;
	})
	.attr("fill",function(d,i){
		return colorsSelect[i];
	})
	.on("click",function(d,i){
		d3.selectAll(".controlRect")
		.attr("fill","#cde");
		d3.select(this)
		.attr("fill", colorsSelect[i]);
		attrNum = i;
		drawMap(attrNum, yearNum);
		selectArray.splice(0,selectArray.length);
		paraSvg.selectAll(".fore")
				.style("display","none");
		lineSvg.selectAll(".line").remove();
		lineDataArray.splice(0,lineDataArray.length);
	});
	svgControl.append("rect")
	.attr("width",40)
	.attr("height",20)
	.attr("x",5)
	.attr("y",418)
	.attr("fill","#89a")
	.on("click",function(){
		svgControl.selectAll(".controlRect")
		.attr("fill",function(d,i){
			return colorsSelect[i];
		});
		clearMap();
		selectArray.splice(0,selectArray.length);
		paraSvg.selectAll(".fore")
				.style("display","none");
	});
	
	svgControl.append("text")
	.attr("x",50)
	.attr("y",432)
	.text("Clear")
	.attr("font-weight","bold");
	
	svgControl.selectAll(".controlText")
	.data(attrNameArray)
	.enter()
	.append("text")
	.attr("x",50)
	.attr("y",function(d,i){
		return 10 + 24 * (i + 1) - 8;
	})
	.text(function(d){
		return d;
	});
	lineX.domain([2009.5,2014.5]);
	var xAxisTicks = [2010,2011,2012,2013,2014];
	xAxis.tickValues(xAxisTicks);
	lineSvg.append("g")
		.attr("class","x axis")
		.attr("transform","translate(100,"+ (lineHeight - 10) +")")
		.call(xAxis)
		.append("text")
		.attr("class","label")
		.attr("x",lineWidth - 130)
		.attr("y",-6)
		.style("text-anchor","middle")
		.text("Year");
	//linearArray[1][0].range([lineHeight,0]);
	/*var yAxis = d3.svg.axis()
		.scale(linearArray[1][0])
		.orient("left");*/
	/*lineSvg.append("g")
		.attr("transform","translate(30,-10)")
		.attr("class","y axis")
		.call(yAxis)
		.append("text")
		.attr("transform","rotate(-90)")
		.attr("class","label")
		.attr("y","6")
		.attr("dy",".71em")
		.style("text-anchor","end")
		.text("Number");*/
	var form = d3.select("#rangeControl")
			.append("form");
	form.append("input")
		.attr("type","radio")
		.attr("value","year2010")
		.attr("name","toggle")
		.attr("checked","checked")
		.on("click",function(){
			yearNum = 0;
			drawCoor(allNewData2010);
			drawMap(attrNum,yearNum);
		});
	form.append("text")
		.html("2010<br>");
	form.append("input")
		.attr("type","radio")
		.attr("value","year2011")
		.attr("name","toggle")
		.on("click",function(){
			yearNum = 1;
			drawCoor(allNewData2011);
			drawMap(attrNum,yearNum);
		});
	form.append("text")
		.html("2011<br>");
	
	form.append("input")
		.attr("type","radio")
		.attr("value","year2012")
		.attr("name","toggle")
		.on("click",function(){
			yearNum = 2;
			drawCoor(allNewData2012);
			drawMap(attrNum,yearNum);
		});
	form.append("text")
		.html("2012<br>");
		
	form.append("input")
		.attr("type","radio")
		.attr("value","year2013")
		.attr("name","toggle")
		.on("click",function(){
			yearNum = 3;
			drawCoor(allNewData2013);
			drawMap(attrNum,yearNum);
		});
	form.append("text")
		.html("2013<br>");
		
	form.append("input")
		.attr("type","radio")
		.attr("value","year2014")
		.attr("name","toggle")
		.on("click",function(){
			yearNum = 4;
			drawCoor(allNewData2014);
			drawMap(attrNum,yearNum);
		});
	form.append("text")
		.html("2014<br>");
	//***************************************opeartion function************************************
	readData();
	//***************************************read data************************************
	function readData(){
		d3.csv("csv/ArableLand.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
				countryCodeArray.push(d.CountryCode);
			});
			linearArray[0] =  new Array();
			ScaleYArray[0] = new Array();
			AxisYArray[0] = new Array();
			linearArray[0][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[0][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[0][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[0][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[0][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[0][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight - 20,0]);
			ScaleYArray[0][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[0][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[0][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[0][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[0][j] = d3.svg.axis()
					.scale(ScaleYArray[0][j])
					.orient("left");
			}
			ArableLand = data;
			for(var i=0;i<215;i++){
				allData2010[i].ArableLand = ArableLand[i].YR2010;
				allData2011[i].ArableLand = ArableLand[i].YR2011;
				allData2012[i].ArableLand = ArableLand[i].YR2012;
				allData2013[i].ArableLand = ArableLand[i].YR2013;
				allData2014[i].ArableLand = ArableLand[i].YR2014;
				allData2010[i].CountryCode = ArableLand[i].CountryCode;
				allData2011[i].CountryCode = ArableLand[i].CountryCode;
				allData2012[i].CountryCode = ArableLand[i].CountryCode;
				allData2013[i].CountryCode = ArableLand[i].CountryCode;
				allData2014[i].CountryCode = ArableLand[i].CountryCode;
			}
			dataArray[0] = data;
		});
		d3.csv("csv/ArmedForcePersonnel.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[1] =  new Array();
			ScaleYArray[1] = new Array();
			AxisYArray[1] = new Array();
			linearArray[1][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[1][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[1][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[1][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[1][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[1][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[1][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[1][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[1][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[1][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[1][j] = d3.svg.axis()
					.scale(ScaleYArray[1][j])
					.orient("left");
			}
			ArmedForcePersonnel = data;
			for(var i=0;i<215;i++){
				allData2010[i].ArmedForcePersonnel = ArmedForcePersonnel[i].YR2010;
				allData2011[i].ArmedForcePersonnel = ArmedForcePersonnel[i].YR2011;
				allData2012[i].ArmedForcePersonnel = ArmedForcePersonnel[i].YR2012;
				allData2013[i].ArmedForcePersonnel = ArmedForcePersonnel[i].YR2013;
				allData2014[i].ArmedForcePersonnel = ArmedForcePersonnel[i].YR2014;
			}
			dataArray[1] = data;
			//**************************************************************
		});
		d3.csv("csv/GDP.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[2] =  new Array();
			ScaleYArray[2] = new Array();
			AxisYArray[2] = new Array();
			linearArray[2][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[2][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[2][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[2][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[2][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[2][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[2][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[2][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[2][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[2][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[2][j] = d3.svg.axis()
					.scale(ScaleYArray[2][j])
					.orient("left");
			}
			GDP = data;
			for(var i=0;i<215;i++){
				allData2010[i].GDP = GDP[i].YR2010;
				allData2011[i].GDP = GDP[i].YR2011;
				allData2012[i].GDP = GDP[i].YR2012;
				allData2013[i].GDP = GDP[i].YR2013;
				allData2014[i].GDP = GDP[i].YR2014;
			}
			dataArray[2] = data;
		});
		d3.csv("csv/GDPCapital.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[3] =  new Array();
			ScaleYArray[3] = new Array();
			AxisYArray[3] = new Array();
			linearArray[3][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[3][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[3][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[3][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[3][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[3][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[3][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[3][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[3][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[3][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[3][j] = d3.svg.axis()
					.scale(ScaleYArray[3][j])
					.orient("left");
			}
			GDPCapital = data;
			for(var i=0;i<215;i++){
				allData2010[i].GDPCapital = GDPCapital[i].YR2010;
				allData2011[i].GDPCapital = GDPCapital[i].YR2011;
				allData2012[i].GDPCapital = GDPCapital[i].YR2012;
				allData2013[i].GDPCapital = GDPCapital[i].YR2013;
				allData2014[i].GDPCapital = GDPCapital[i].YR2014;
			}
			dataArray[3] = data;
		});
		d3.csv("csv/GDPCapitalGrowth.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[4] =  new Array();
			ScaleYArray[4] = new Array();
			AxisYArray[4] = new Array();
			linearArray[4][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[4][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[4][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[4][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[4][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[4][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[4][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[4][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[4][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[4][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[4][j] = d3.svg.axis()
					.scale(ScaleYArray[4][j])
					.orient("left");
			}
			GDPCapitalGrowth = data;
			for(var i=0;i<215;i++){
				allData2010[i].GDPCapitalGrowth = GDPCapitalGrowth[i].YR2010;
				allData2011[i].GDPCapitalGrowth = GDPCapitalGrowth[i].YR2011;
				allData2012[i].GDPCapitalGrowth = GDPCapitalGrowth[i].YR2012;
				allData2013[i].GDPCapitalGrowth = GDPCapitalGrowth[i].YR2013;
				allData2014[i].GDPCapitalGrowth = GDPCapitalGrowth[i].YR2014;
			}
			dataArray[4] = data;
		});
		d3.csv("csv/GDPGrowth.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[5] =  new Array();
			ScaleYArray[5] = new Array();
			AxisYArray[5] = new Array();
			linearArray[5][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[5][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[5][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[5][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[5][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[5][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[5][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[5][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[5][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[5][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[5][j] = d3.svg.axis()
					.scale(ScaleYArray[5][j])
					.orient("left");
			}
			GDPGrowth = data;
			for(var i=0;i<215;i++){
				allData2010[i].GDPGrowth = GDPGrowth[i].YR2010;
				allData2011[i].GDPGrowth = GDPGrowth[i].YR2011;
				allData2012[i].GDPGrowth = GDPGrowth[i].YR2012;
				allData2013[i].GDPGrowth = GDPGrowth[i].YR2013;
				allData2014[i].GDPGrowth = GDPGrowth[i].YR2014;
			}
			dataArray[5] = data;
		});
		d3.csv("csv/InternetUser.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[6] =  new Array();
			ScaleYArray[6] = new Array();
			AxisYArray[6] = new Array();
			linearArray[6][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[6][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[6][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[6][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[6][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[6][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[6][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[6][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[6][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[6][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[6][j] = d3.svg.axis()
					.scale(ScaleYArray[6][j])
					.orient("left");
			}
			InternetUser = data;
			for(var i=0;i<215;i++){
				allData2010[i].InternetUser = InternetUser[i].YR2010;
				allData2011[i].InternetUser = InternetUser[i].YR2011;
				allData2012[i].InternetUser = InternetUser[i].YR2012;
				allData2013[i].InternetUser = InternetUser[i].YR2013;
				allData2014[i].InternetUser = InternetUser[i].YR2014;
			}
			dataArray[6] = data;
		});
		d3.csv("csv/LaborForceFemale.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[7] =  new Array();
			ScaleYArray[7] = new Array();
			AxisYArray[7] = new Array();
			linearArray[7][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[7][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[7][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[7][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[7][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[7][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[7][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[7][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[7][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[7][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[7][j] = d3.svg.axis()
					.scale(ScaleYArray[7][j])
					.orient("left");
			}
			LaborForceFemale = data;
			for(var i=0;i<215;i++){
				allData2010[i].LaborForceFemale = LaborForceFemale[i].YR2010;
				allData2011[i].LaborForceFemale = LaborForceFemale[i].YR2011;
				allData2012[i].LaborForceFemale = LaborForceFemale[i].YR2012;
				allData2013[i].LaborForceFemale = LaborForceFemale[i].YR2013;
				allData2014[i].LaborForceFemale = LaborForceFemale[i].YR2014;
			}
			dataArray[7] = data;
		});
		d3.csv("csv/LaborForceTotal.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[8] =  new Array();
			ScaleYArray[8] = new Array();
			AxisYArray[8] = new Array();
			linearArray[8][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[8][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[8][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[8][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[8][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[8][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[8][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[8][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[8][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[8][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[8][j] = d3.svg.axis()
					.scale(ScaleYArray[8][j])
					.orient("left");
			}
			LaborForceTotal = data;
			for(var i=0;i<215;i++){
				allData2010[i].LaborForceTotal = LaborForceTotal[i].YR2010;
				allData2011[i].LaborForceTotal = LaborForceTotal[i].YR2011;
				allData2012[i].LaborForceTotal = LaborForceTotal[i].YR2012;
				allData2013[i].LaborForceTotal = LaborForceTotal[i].YR2013;
				allData2014[i].LaborForceTotal = LaborForceTotal[i].YR2014;
			}
			dataArray[8] = data;
		});
		d3.csv("csv/PopulationDensity.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[9] =  new Array();
			ScaleYArray[9] = new Array();
			AxisYArray[9] = new Array();
			linearArray[9][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[9][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[9][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[9][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[9][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[9][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[9][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[9][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[9][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[9][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[9][j] = d3.svg.axis()
					.scale(ScaleYArray[9][j])
					.orient("left");
			}
			PopulationDensity = data;
			for(var i=0;i<215;i++){
				allData2010[i].PopulationDensity = PopulationDensity[i].YR2010;
				allData2011[i].PopulationDensity = PopulationDensity[i].YR2011;
				allData2012[i].PopulationDensity = PopulationDensity[i].YR2012;
				allData2013[i].PopulationDensity = PopulationDensity[i].YR2013;
				allData2014[i].PopulationDensity = PopulationDensity[i].YR2014;
			}
			dataArray[9] = data;
		});
		d3.csv("csv/PopulationFemale.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[10] =  new Array();
			ScaleYArray[10] = new Array();
			AxisYArray[10] = new Array();
			linearArray[10][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[10][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[10][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[10][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[10][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[10][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[10][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[10][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[10][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[10][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[10][j] = d3.svg.axis()
					.scale(ScaleYArray[10][j])
					.orient("left");
			}
			PopulationFemale = data;
			for(var i=0;i<215;i++){
				allData2010[i].PopulationFemale = PopulationFemale[i].YR2010;
				allData2011[i].PopulationFemale = PopulationFemale[i].YR2011;
				allData2012[i].PopulationFemale = PopulationFemale[i].YR2012;
				allData2013[i].PopulationFemale = PopulationFemale[i].YR2013;
				allData2014[i].PopulationFemale = PopulationFemale[i].YR2014;
			}
			dataArray[10] = data;
		});
		d3.csv("csv/PopulationGrowth.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[11] =  new Array();
			ScaleYArray[11] = new Array();
			AxisYArray[11] = new Array();
			linearArray[11][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[11][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[11][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[11][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[11][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[11][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[11][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[11][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[11][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[11][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[11][j] = d3.svg.axis()
					.scale(ScaleYArray[11][j])
					.orient("left");
			}
			PopulationGrowth = data;
			for(var i=0;i<215;i++){
				allData2010[i].PopulationGrowth = PopulationGrowth[i].YR2010;
				allData2011[i].PopulationGrowth = PopulationGrowth[i].YR2011;
				allData2012[i].PopulationGrowth = PopulationGrowth[i].YR2012;
				allData2013[i].PopulationGrowth = PopulationGrowth[i].YR2013;
				allData2014[i].PopulationGrowth = PopulationGrowth[i].YR2014;
			}
			dataArray[11] = data;
		});
		d3.csv("csv/PopulationTotal.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[12] =  new Array();
			ScaleYArray[12] = new Array();
			AxisYArray[12] = new Array();
			linearArray[12][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[12][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[12][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[12][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[12][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[12][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[12][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[12][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[12][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[12][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[12][j] = d3.svg.axis()
					.scale(ScaleYArray[12][j])
					.orient("left");
			}
			PopulationTotal = data;
			for(var i=0;i<215;i++){
				allData2010[i].PopulationTotal = PopulationTotal[i].YR2010;
				allData2011[i].PopulationTotal = PopulationTotal[i].YR2011;
				allData2012[i].PopulationTotal = PopulationTotal[i].YR2012;
				allData2013[i].PopulationTotal = PopulationTotal[i].YR2013;
				allData2014[i].PopulationTotal = PopulationTotal[i].YR2014;
			}
			dataArray[12] = data;
		});
		d3.csv("csv/RuralPopulation.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[13] =  new Array();
			ScaleYArray[13] = new Array();
			AxisYArray[13] = new Array();
			linearArray[13][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[13][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[13][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[13][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[13][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[13][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[13][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[13][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[13][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[13][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[13][j] = d3.svg.axis()
					.scale(ScaleYArray[13][j])
					.orient("left");
			}
			RuralPopulation = data;
			for(var i=0;i<215;i++){
				allData2010[i].RuralPopulation = RuralPopulation[i].YR2010;
				allData2011[i].RuralPopulation = RuralPopulation[i].YR2011;
				allData2012[i].RuralPopulation = RuralPopulation[i].YR2012;
				allData2013[i].RuralPopulation = RuralPopulation[i].YR2013;
				allData2014[i].RuralPopulation = RuralPopulation[i].YR2014;
			}
			dataArray[13] = data;
		});
		d3.csv("csv/SurfaceArea.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[14] =  new Array();
			ScaleYArray[14] = new Array();
			AxisYArray[14] = new Array();
			linearArray[14][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[14][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[14][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[14][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[14][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[14][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[14][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[14][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[14][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[14][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[14][j] = d3.svg.axis()
					.scale(ScaleYArray[14][j])
					.orient("left");
			}				
			SurfaceArea = data;
			for(var i=0;i<215;i++){
				allData2010[i].SurfaceArea = SurfaceArea[i].YR2010;
				allData2011[i].SurfaceArea = SurfaceArea[i].YR2011;
				allData2012[i].SurfaceArea = SurfaceArea[i].YR2012;
				allData2013[i].SurfaceArea = SurfaceArea[i].YR2013;
				allData2014[i].SurfaceArea = SurfaceArea[i].YR2014;
			}
			dataArray[14] = data;
		});
		d3.csv("csv/UnemploymentFemale.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[15] =  new Array();
			ScaleYArray[15] = new Array();
			AxisYArray[15] = new Array();
			linearArray[15][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[15][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[15][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[15][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[15][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[15][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[15][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[15][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[15][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[15][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[15][j] = d3.svg.axis()
					.scale(ScaleYArray[15][j])
					.orient("left");
			}
			UnemploymentFemale = data;
			for(var i=0;i<215;i++){
				allData2010[i].UnemploymentFemale = UnemploymentFemale[i].YR2010;
				allData2011[i].UnemploymentFemale = UnemploymentFemale[i].YR2011;
				allData2012[i].UnemploymentFemale = UnemploymentFemale[i].YR2012;
				allData2013[i].UnemploymentFemale = UnemploymentFemale[i].YR2013;
				allData2014[i].UnemploymentFemale = UnemploymentFemale[i].YR2014;
			}
			dataArray[15] = data;
		});
		d3.csv("csv/UnemploymentTotal.csv",function(error,data){
			data.forEach(function(d){
				d.YR2010 = + d.YR2010;
				d.YR2011 = + d.YR2011;
				d.YR2012 = + d.YR2012;
				d.YR2013 = + d.YR2013;	
				d.YR2014 = + d.YR2014;
			});
			linearArray[16] =  new Array();
			ScaleYArray[16] = new Array();
			AxisYArray[16] = new Array();
			linearArray[16][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([0,1]);
			linearArray[16][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([0,1]);
			linearArray[16][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([0,1]);
			linearArray[16][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([0,1]);
			linearArray[16][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([0,1]);
			//*********************************************************************
			ScaleYArray[16][0] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				}),d3.max(data,function(d){
					if(d.YR2010!=-1){
						return d.YR2010;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[16][1] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				}),d3.max(data,function(d){
					if(d.YR2011!=-1){
						return d.YR2011;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[16][2] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				}),d3.max(data,function(d){
					if(d.YR2012!=-1){
						return d.YR2012;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[16][3] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				}),d3.max(data,function(d){
					if(d.YR2013!=-1){
						return d.YR2013;
					}
				})])
				.range([lineHeight,0]);
			ScaleYArray[16][4] = d3.scale.linear()
				.domain([d3.min(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				}),d3.max(data,function(d){
					if(d.YR2014!=-1){
						return d.YR2014;
					}
				})])
				.range([lineHeight,0]);
			for(var j=0;j<5;j++){
				AxisYArray[16][j] = d3.svg.axis()
					.scale(ScaleYArray[16][j])
					.orient("left");
			}
			UnemploymentTotal = data;
			for(var i=0;i<215;i++){
				allData2010[i].UnemploymentTotal = UnemploymentTotal[i].YR2010;
				allData2011[i].UnemploymentTotal = UnemploymentTotal[i].YR2011;
				allData2012[i].UnemploymentTotal = UnemploymentTotal[i].YR2012;
				allData2013[i].UnemploymentTotal = UnemploymentTotal[i].YR2013;
				allData2014[i].UnemploymentTotal = UnemploymentTotal[i].YR2014;
			}
			dataArray[16] = data;
		});
		//***************************************************************************
		d3.csv("csv/allData2010.csv", function(error, data) {
			  allNewData2010 = data;
			  drawCoor(data);
			});
		d3.csv("csv/allData2011.csv", function(error, data) {
			  allNewData2011 = data;
			});
		d3.csv("csv/allData2012.csv", function(error, data) {
			  allNewData2012 = data;
			});
		d3.csv("csv/allData2013.csv", function(error, data) {
			  allNewData2013 = data;
			});
		d3.csv("csv/allData2014.csv", function(error, data) {
			  allNewData2014 = data;
			});
	}
	//***********************************************************************************
	//****************************************Draw Map***********************************
	function drawMap(pAttrNum,pYearNum){
		//alert("attrNum: "+pAttrNum+"  "+ "yearNum: "+pYearNum);
		if(pAttrNum>=0&&pYearNum>=0){
			var data = dataArray[pAttrNum];
			for(var i=0;i<data.length;i++){
				svg.select("#" + data[i].CountryCode)
				.style("fill",function(){
					var d = data[i][yearArray[pYearNum]];
					if(d==-1){
						return "#FFFFFF";
					}else{
						return colorScaleArray[pAttrNum](linearArray[pAttrNum][pYearNum](data[i][yearArray[pYearNum]]));
					}
				})
				.style("stroke","black");
			}
		}
	}
	//*************************************Clear Map**************************************
	function clearMap(){
		svg.selectAll(".colorG")
		.style("stroke","#fff")
		.style("fill","#cde");
		paraSvg.selectAll(".fore")
		.style("display","none");
		attrNum = -1;
		lineSvg.selectAll(".line").remove();
		lineDataArray.splice(0,lineDataArray.length);
	}
	//************************************************************************************************************************************
	//************************************************************************************************************************************
	function position(d) {
	  var v = dragging[d];
	  return v == null ? x(d) : v;
	}
	
	function transition(g) {
	  return g.transition().duration(500);
	}
	
	// Returns the path for a given data point.
	function path(d) {
	  return line(dimensions.map(function(p) { return [position(p), y[p](d[p])]; }));
	}
	
	function brushstart() {
	  d3.event.sourceEvent.stopPropagation();
	}
	
	// Handles a brush event, toggling the display of foreground lines.
	function brush() {
	  var actives = dimensions.filter(function(p) { return !y[p].brush.empty(); }),
		  extents = actives.map(function(p) { return y[p].brush.extent(); });
	  foreground.style("display", function(d) {
		return actives.every(function(p, i) {
		  return extents[i][0] <= d[p] && d[p] <= extents[i][1];
		}) ? null : "none";
	  });
	}
	//*******************************************************************************
	function drawCoor(cars){
		paraSvg.selectAll("path")
		.remove();
		paraSvg.selectAll(".dimension")	
		.remove();	
		  // Extract the list of dimensions and create a scale for each.
		  x.domain(dimensions = d3.keys(cars[0]).filter(function(d) {
			return d != "CountryCode" && (y[d] = d3.scale.linear()
				.domain(d3.extent(cars, function(p) { return +p[d]; }))
				.range([paraHeight, 0]));
		  }));
		
		  // Add grey background lines for context.
		  background = paraSvg.append("g")
			  .attr("class", "paraBackground")
			.selectAll("path")
			  .data(cars)
			.enter()
			.append("path")
			.attr("id",function(d){
					return d.CountryCode + "back";
			  })
			 .attr("class","back")
			  .attr("d", function path(d) {
					return line(dimensions.map(function(p) { return [position(p), y[p](d[p])]; }));
			 });
		
		  // Add blue foreground lines for focus.
		  foreground = paraSvg.append("g")
			  .attr("class", "foreground")
			  .selectAll("path")
			  .data(cars)
			  .enter().append("path")
			  .attr("id",function(d){
				return d.CountryCode + "fore";
			  })
			  .attr("class","fore")
			  .attr("d", function path(d) {
					return line(dimensions.map(function(p) { return [position(p), y[p](d[p])]; }));
			 });
		  paraSvg.selectAll(".fore")
					.style("display","none");
			svg.selectAll(".colorG")
					.style("fill","#cde");
			for(var i=0;i<selectArray.length;i++){
				paraSvg.select("#" + selectArray[i] + "fore")
					.style("display",null);
				svg.select("#"+selectArray[i])
					.style("fill","steelblue");
			}
		  // Add a group element for each dimension.
		  var g = paraSvg.selectAll(".dimension")
			  .data(dimensions)
			.enter().append("g")
			  .attr("class", "dimension")
			  .attr("transform", function(d) { return "translate(" + x(d) + ")"; })
			  .call(d3.behavior.drag()
				.origin(function(d) { return {x: x(d)}; })
				.on("dragstart", function(d) {
				  dragging[d] = x(d);
				  background.attr("visibility", "hidden");
				})
				.on("drag", function(d) {
				  dragging[d] = Math.min(paraWidth, Math.max(0, d3.event.x));
				  foreground.attr("d", function path(d) {
					return line(dimensions.map(function(p) { return [position(p), y[p](d[p])]; }));
				 });
				  dimensions.sort(function(a, b) { return position(a) - position(b); });
				  x.domain(dimensions);
				  g.attr("transform", function(d) { return "translate(" + position(d) + ")"; })
				})
				.on("dragend", function(d) {
				  delete dragging[d];
				  transition(d3.select(this)).attr("transform", "translate(" + x(d) + ")");
				  transition(foreground).attr("d", function path(d) {
					return line(dimensions.map(function(p) { return [position(p), y[p](d[p])]; }));
				  });
				  background
					  .attr("d", function path(d) {
							return line(dimensions.map(function(p) { return [position(p), y[p](d[p])]; }));
					  })
					  .transition()
					  .delay(500)
					  .duration(0)
					  .attr("visibility", null);
				}));
		
		  // Add an axis and title.
		  g.append("g")
			  .attr("class", "axis")
			  .each(function(d) { d3.select(this).call(axis.scale(y[d])); })
			.append("text")
			  .style("text-anchor", "middle")
			  .attr("y", -9)
			  .text(function(d,i) { return attrNameArrayL[i]; });
		
		  // Add and store a brush for each axis.
		  g.append("g")
			  .attr("class", "brush")
			  .each(function(d) {
				//d3.select(this).call(y[d].brush = d3.svg.brush().y(y[d]).on("brushstart", brushstart).on("brush", brush));
				d3.select(this).call(y[d].brush = d3.svg.brush().y(y[d]).on("brushstart", brushstart).on("brush", function brush(dd,ii){
				  var actives = dimensions.filter(function(p) { return !y[p].brush.empty(); }),
					  extents = actives.map(function(p) { return y[p].brush.extent(); });
				  foreground.style("display", function(d) {
					 if (actives.every(function(p, i) {
					  return extents[i][0] <= d[p] && d[p] <= extents[i][1];
					})){
						var selectCountry = d.CountryCode;
						svg.select("#"+selectCountry)
						.style("fill","steelblue"); 
						return null;
					}else{
						var selectCountry = d.CountryCode;
						svg.select("#"+selectCountry)
						.style("fill","#89a"); 
						return "none";
					} 
				  });
				}));
			  })
			.selectAll("rect")
			  .attr("x", -8)
			  .attr("width", 16);
	}
	</script>
  </body>
  
</html>
